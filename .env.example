# CI Fixer Environment Configuration
# Copy this file to .env and update the values for your environment

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
POSTGRES_DB=cifixer
POSTGRES_USER=cifixer
POSTGRES_PASSWORD=your_secure_postgres_password_here
POSTGRES_PORT=5432

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
APP_PORT=8080
SPRING_PROFILES_ACTIVE=docker
LOG_LEVEL=INFO

# =============================================================================
# EXTERNAL API CONFIGURATION
# =============================================================================
# OpenRouter (Recommended - Access to multiple models)
LLM_API_BASE_URL=https://openrouter.ai/api/v1
LLM_API_KEY=sk-or-v1-your-openrouter-key-here
LLM_API_MODEL=anthropic/claude-3.5-sonnet
LLM_API_PROVIDER=openrouter

# Alternative: OpenAI
# LLM_API_BASE_URL=https://api.openai.com/v1
# LLM_API_KEY=sk-your-openai-key-here
# LLM_API_MODEL=gpt-4
# LLM_API_PROVIDER=openai

# Alternative: Anthropic
# LLM_API_BASE_URL=https://api.anthropic.com/v1
# LLM_API_KEY=sk-ant-your-anthropic-key-here
# LLM_API_MODEL=claude-3-sonnet-20240229
# LLM_API_PROVIDER=anthropic

# Alternative: Azure OpenAI
# LLM_API_BASE_URL=https://your-resource.openai.azure.com/openai/deployments/your-deployment
# LLM_API_KEY=your-azure-openai-key
# LLM_API_MODEL=gpt-4
# LLM_API_PROVIDER=azure

# API Configuration
LLM_API_TIMEOUT_SECONDS=60
LLM_API_MAX_TOKENS=4000
LLM_API_TEMPERATURE=0.1
LLM_API_MAX_RETRIES=3

# =============================================================================
# EMAIL CONFIGURATION (MailHog for development)
# =============================================================================
MAILHOG_SMTP_PORT=1025
MAILHOG_WEB_PORT=8025

# For production SMTP (comment out MailHog service in docker-compose.yml)
# SPRING_MAIL_HOST=your-smtp-server.com
# SPRING_MAIL_PORT=587
# SPRING_MAIL_USERNAME=your-email@company.com
# SPRING_MAIL_PASSWORD=your-email-password
# SPRING_MAIL_PROPERTIES_MAIL_SMTP_AUTH=true
# SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_ENABLE=true

# =============================================================================
# GITHUB INTEGRATION
# =============================================================================
# Generate a personal access token with repo permissions
GITHUB_TOKEN=ghp_your_github_token_here
GITHUB_BASE_URL=https://api.github.com

# For GitHub Enterprise
# GITHUB_BASE_URL=https://your-github-enterprise.com/api/v3

# =============================================================================
# JENKINS INTEGRATION
# =============================================================================
# Shared secret for webhook signature validation
JENKINS_WEBHOOK_SECRET=your_webhook_secret_here

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
WEBHOOK_SIGNATURE_VALIDATION=true
SSL_VERIFICATION=true

# =============================================================================
# OPERATIONAL CONFIGURATION
# =============================================================================
CLEANUP_ENABLED=true
CLEANUP_RETENTION_HOURS=24

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# Uncomment and modify for production deployment

# Database (use external PostgreSQL in production)
# SPRING_DATASOURCE_URL=jdbc:postgresql://your-postgres-host:5432/cifixer
# SPRING_DATASOURCE_USERNAME=cifixer_prod
# SPRING_DATASOURCE_PASSWORD=your_production_db_password

# External API (configure for production)
# LLM_API_BASE_URL=https://api.openai.com/v1
# LLM_API_KEY=sk-your-production-api-key
# LLM_API_MODEL=gpt-4
# LLM_API_PROVIDER=openai

# Logging (use external log aggregation in production)
# LOGGING_LEVEL_ROOT=WARN
# LOGGING_LEVEL_COM_EXAMPLE_CIFIXER=INFO
# SPRING_LOGGING_FILE_NAME=/app/logs/ci-fixer.log

# JVM Options for production
# JAVA_OPTS=-Xmx2g -Xms1g -XX:+UseG1GC -XX:+UseContainerSupport -XX:MaxRAMPercentage=75